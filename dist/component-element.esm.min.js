var __LIB=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return r});const r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:Function("return this;")()}).call(this,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);const r="[object Object]",o=Function.call.bind(Object.prototype.toString),i=Function.call.bind(Object.prototype.hasOwnProperty);var s=function t(e,...n){let s,u,a=e||{},c=n.length,l=!1;for("boolean"==typeof e&&(l=e,a=n.shift()||{},c=n.length),s=0;s<c;s++)if(n[s])for(u in n[s])i(n[s],u)&&(l&&o(a[u])===r&&o(n[s][u])===r?a[u]=t(!0,a[u],n[s][u]):a[u]=n[s][u]);return a};let u=/native code/i,a=function(){if("undefined"!=typeof setImediate&&u.test(setImediate.toString()))return setImediate;if("function"==typeof Promise&&u.test(Promise.toString())){let t=Promise.resolve();return function(e){t.then(e).catch(t=>console.error(t))}}let t=[],e=!1;return function(n){t.push(n),e||(e=!0,function n(){setTimeout(function(){t.shift()(),t.length?n():e=!1},0)}())}}(),c=!1;const l=new Set;let d,h;const f=()=>{const t=[...l];for(l.clear(),c=!1,d=0,h=t.length;d<h;d++)t[d]()};a.queue=(t=>{l.add(t),c||(c=!0,a(f))});function p(t){if(t.constructor&&t===t.constructor.prototype)throw new Error("Can not be accessed directly on constructor.prototype!")}const m=Function.bind.call.bind(Function.bind)(Function.call.bind,Function.call),y=Object.defineProperty,b=Object.defineProperties,v=Object.keys,g=(t,e,n,r,o,i=!0,s=!1,u=!0)=>{const a={configurable:i,enumerable:s};return r||o?(a.get=r,a.set=o):(a.writable=u,a.value=n),y(t,e,a),t},w=[],S=Array.isArray,_=(m(w.forEach),m(w.indexOf),m(w.splice),console.log),E=(console.error,console.warn||_),C="undefined"!=typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",O=HTMLElement.prototype,M=document,j=M.head;m(O.appendChild),m(O.insertBefore),m(O.hasAttribute),m(O.setAttribute),m(O.removeAttribute);var k=function(t,e,n,r){let o=e.split(/\s+/),i={};return o.forEach(e=>{t.addEventListener(e,n,r),i[e]={remove:()=>t.removeEventListener(e,n,r)}}),Object.create({listeners:i,remove:function(){o.forEach(t=>i[t].remove())}})};function A(t,e){return Array.prototype.slice.call(t.querySelectorAll(e))}var x,D=A;"undefined"==typeof WeakMap?function(){var t=Object.defineProperty,e=Date.now()%1e9,n=x=function(){this.name="__st"+(1e9*Math.random()>>>0)+e+++"__"};n.prototype={set:function(e,n){var r=e[this.name];return r&&r[0]===e?r[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=n}():x=WeakMap;var L={stash:new x,create:function(){return new x}},T=n(0);function P(t,e){y(this,"_",{value:{keys:t.slice(0),values:e?e.slice(0):null,idx:0,total:t.length}})}b(P.prototype,{constructor:{value:P},next:{enumerable:!0,configurable:!0,value(){const t={done:this._.idx===this._.total};if(t.done)return t.value=void 0,t;const e=this._.idx++;return t.value=this._.keys[e],this._.values&&(t.value=[t.value,this._.values[e]]),t}}}),y(P.prototype,C,{value(){return this}});const $=Math.random().toString(36).substring(7);let I=1;const q={toString(){return`Symbol(${this.description}).${this._id}`},valueOf(){return this.toString()}},B=T.a.Symbol||function t(e){if(this instanceof t)throw new TypeError("FakeSymbol is not a constructor");return Object.create(q,{description:{value:arguments.length?e:""},_id:{value:`${$}.${I++}`}})};P.iterator=P;const F=Symbol("state");class Q{on(t,e){return R(this,t).add(e),()=>R(this,t).delete(e)}emit(t,e){R(this,t).forEach(t=>t(e))}clear(){R(this).clear()}}function R(t,e){return t[F]||(t[F]=new Map),e?(t[F].has(e)||t[F].set(e,new Set),t[F].get(e)):t[F]}const N=L.create(),U=B("state");function H(t,e){return e.aliases.some(e=>t.hasAttribute(e))}function W(t){if(!N.has(t)){let e={isCssScopingDone:!1,templateEle:null,ev:new Q,destroyCallbacks:[],destroyQueued:null,isMounted:!1};N.set(t,e)}return N.get(t)}function Y(t){let e=z(t);if(!e.propsDef){const n=e.propsDef={},r=t.propsDef;r&&v(r).forEach(t=>{if(n[t]=r[t],S(n[t].aliases)){const e=s({},r[t],{_isAlias:!0});n[t].aliases.forEach(t=>!n[t]&&(n[t]=e))}})}return e.propsDef}function z(t){return N.has(t)||N.set(t,{propsDef:null,template:null,observedAttrs:null}),N.get(t)}const V=t=>t.parentNode.removeChild(t),Z=()=>!!T.a.ShadyCSS;function G(t,e){if(Z()){const n=W(e);n.templateEle||(n.templateEle=document.createElement("template")),n.templateEle.innerHTML="","string"==typeof t?n.templateEle.innerHTML=t:n.templateEle.appendChild(t),n.isCssScopingDone||(n.isCssScopingDone=!0,function(t,e){Z()&&T.a.ShadyCSS.prepareTemplate(t,e.constructor.tagName)}(n.templateEle,e));const r=document.importNode(n.templateEle.content,!0);return n.templateEle.textContent="",A(r,"style").forEach(V),r}}const J=j.createShadowRoot||j.attachShadow,K={bubbles:!0,cancelable:!0,composed:!0},X=window.customElements,tt=Object.freeze(Object.create(null)),et=Symbol("ev.props.any");let nt=!1;class rt extends HTMLElement{constructor(...t){const e=super(...t)||this;return function(t){const{useShadow:e,shadowMode:n}=t.constructor;e&&J?t.shadowRoot?t._$ui=t.shadowRoot:t._$ui=t.attachShadow({mode:n}):t._$ui=t;t.onPropsChange(t._queueUpdate),t.didInit()}(e),e}static get tagName(){throw new Error("tagName not defined")}static define(t){t=t||this.tagName,X.get(t)?X.get(t)!==this&&E(`${t} is already a defined in customElementsRegistry as a different Class`):X.define(t,this)}static get delayDestroy(){return 0}static get useShadow(){return!0}static get shadowMode(){return"open"}static get template(){return"<div></div>"}static renderTemplate(){0}static get eventInitOptions(){return K}static get observedAttributes(){let t=z(this);if(!t.observedAttrs){const e=Y(this);t.observedAttrs=v(e).filter(t=>e[t].attr)}return t.observedAttrs}get props(){if(p(this),nt)return;nt=!0;const t=Y(this.constructor);let e={};const n=W(this).ev,r=()=>n.emit(et);return v(t).forEach(o=>{if(!t[o]||!t[o]._isAlias){const i=()=>n.emit(o);let s=t[o].default.call(this);t[o].attr&&!t[o].boolean&&H(this,t[o])?s=function(t,e){let n="";return e.aliases.some(e=>{if(t.hasAttribute(e))return n=t.getAttribute(e),!0}),n}(this,t[o]):this.hasOwnProperty(o)&&(s=this[o],delete this[o]),g(e,o,void 0,function(){return s},e=>(e=t[o].filter.call(this,e),a.queue(i),a.queue(r),s=e),!0,!0)}}),g(this,"props",e,void 0,void 0,!0,!0,!1),nt=!1,e}get hasRequiredProps(){return p(this),v(this.constructor.propsDef).filter(t=>this.constructor.propsDef[t].required).every(t=>!!this.props[t])}get isMounted(){return p(this),W(this).isMounted}get $ui(){return this._$ui}destroy(){if(N.has(this)){const t=W(this);N.delete(this),t.destroyQueued&&(clearTimeout(t.destroyQueued),t.destroyQueued=null),t.destroyCallbacks.splice(0).forEach(t=>t())}this.parentNode&&this.parentNode.removeChild(this),this.didDestroy()}onDestroy(t){W(this).destroyCallbacks.push(t)}$(t){return this.$ui.querySelector(t)}$$(t){return D(this.$ui,t)}get update(){if(p(this),nt)return;const t=()=>{if(!this.isMounted)return;const t=this.willRender();("boolean"!=typeof t||t)&&(this._setView(this.render()),this.didRender())};return nt=!0,g(this,"update",t),nt=!1,t}get _queueUpdate(){if(p(this),nt)return;const t=()=>{a.queue(this.update)};return nt=!0,g(this,"_queueUpdate",t),nt=!1,t}_setView(t){let e=G(t,this)||t;"string"==typeof e?this.$ui.innerHTML=e:(this.$ui.textContent="",this.$ui.appendChild(e)),function(t){Z()&&T.a.ShadyCSS.styleElement(t)}(this)}didInit(){"init"in this&&this.init()}didMount(){"ready"in this&&this.ready(),"mounted"in this&&this.mounted()}willRender(){}render(){}didRender(){}didUnmount(){"unmounted"in this&&this.unmounted()}didDestroy(){}emit(t,e,n){const r=t.toLowerCase(),o=new CustomEvent(t,s({},this.constructor.eventInitOptions,n,{detail:e}));"function"==typeof this[r]&&this[r](o),this.dispatchEvent(o)}on(t,e,n){return k(this,t,e,n)}onPropsChange(t,e){return W(this).ev.on(e||et,t)}attributeChangedCallback(t,e,n){const r=Y(this.constructor);r[t]&&(t=r[t].name),this.props[t]=n}connectedCallback(){const t=W(this);t.destroyQueued&&(clearTimeout(t.destroyQueued),t.destroyQueued=null),t.isMounted=!0,this.didMount(),this._queueUpdate()}disconnectedCallback(){if(N.has(this)){const t=W(this);t.destroyQueued||(t.destroyQueued=setTimeout(this.destroy.bind(this),this.constructor.delayDestroy)),t.isMounted=!1}this.didUnmount()}}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(rt,"propsDef",tt);const ot=/[A-Z]/,it=t=>t;function st(t={}){return t.key&&t.kind?ut({},t):ut.bind(null,t)}function ut(t,{key:e,initializer:n,descriptor:r}){const o=function(t,e,n,r){const o=s({name:t,attr:!1,required:!1,boolean:!1,default:e||it,filter:n||it,aliases:[]},r);o.boolean&&(o.attr=!0,o.default=o.filter=function(){const t=H(this,o);return t});t.toLowerCase()!==t&&o.aliases.push(t.toLowerCase());ot.test(t)&&o.aliases.push(function(t){return t.replace(/([A-Z])/g,(t,e)=>"-"+e.toLowerCase())}(t));return o}(e,n||r.get,r.set,t),i=at(e,e,o);return o.aliases&&(i.extras=o.aliases.map(t=>at(t,e))),i}function at(t,e,n){const r={key:t,kind:"method",placement:"prototype",descriptor:{configurable:!0,get(){return p(this),this.props[e]},set(t){return p(this),this.props[e]=t}}};return n&&(r.finisher=function(e){e.hasOwnProperty("propsDef")||g(e,"propsDef",s(Object.create(null),e.propsDef)),e.propsDef[t]=n}),r}function ct(t){return t.key&&t.kind?lt(t):lt}function lt(t){const{kind:e,key:n,descriptor:r}=t;if("method"===e&&r.value){let t=!1;const e=r.value;delete r.value,delete r.writable,r.get=function(){if(p(this),t)return;t=!0;const r=e.bind(this);return g(this,n,r),t=!1,r}}return t}n.d(e,"ComponentElement",function(){return rt}),n.d(e,"prop",function(){return st}),n.d(e,"bind",function(){return ct}),n.d(e,"getState",function(){return W}),n.d(e,"STATE_SYMBOL",function(){return U}),n.d(e,"default",function(){return rt})}]);export const getState=__LIB.getState;export const STATE_SYMBOL=__LIB.STATE_SYMBOL;export default __LIB.default;export const ComponentElement=__LIB.ComponentElement;export const prop=__LIB.prop;export const bind=__LIB.bind;
//# sourceMappingURL=component-element.esm.min.js.map